(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27f912c3"],{"057f":function(t,e,r){var n=r("c6b6"),c=r("fc6a"),o=r("241c").f,a=r("4dae"),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return o(t)}catch(e){return a(i)}};t.exports.f=function(t){return i&&"Window"==n(t)?u(t):o(c(t))}},"159b":function(t,e,r){var n=r("da84"),c=r("fdbc"),o=r("785a"),a=r("17c2"),i=r("9112"),u=function(t){if(t&&t.forEach!==a)try{i(t,"forEach",a)}catch(e){t.forEach=a}};for(var s in c)c[s]&&u(n[s]&&n[s].prototype);u(o)},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,c=r("a640"),o=c("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"428f":function(t,e,r){var n=r("da84");t.exports=n},"4de4":function(t,e,r){"use strict";var n=r("23e7"),c=r("b727").filter,o=r("1dde"),a=o("filter");n({target:"Array",proto:!0,forced:!a},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},"746f":function(t,e,r){var n=r("428f"),c=r("1a2d"),o=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});c(e,t)||a(e,t,{value:o.f(t)})}},a4d3:function(t,e,r){"use strict";var n=r("23e7"),c=r("da84"),o=r("d066"),a=r("2ba4"),i=r("c65b"),u=r("e330"),s=r("c430"),f=r("83ab"),b=r("4930"),l=r("d039"),d=r("1a2d"),h=r("e8b5"),O=r("1626"),p=r("861d"),j=r("3a9b"),g=r("d9b5"),y=r("825a"),m=r("7b0b"),v=r("fc6a"),w=r("a04b"),x=r("577e"),k=r("5c6c"),P=r("7c73"),S=r("df75"),E=r("241c"),z=r("057f"),M=r("7418"),D=r("06cf"),I=r("9bf2"),R=r("37e8"),_=r("d1e7"),J=r("f36a"),N=r("6eeb"),$=r("5692"),A=r("f772"),C=r("d012"),F=r("90e3"),L=r("b622"),T=r("e538"),H=r("746f"),U=r("d44e"),q=r("69f3"),Q=r("b727").forEach,V=A("hidden"),W="Symbol",X="prototype",B=L("toPrimitive"),G=q.set,K=q.getterFor(W),Y=Object[X],Z=c.Symbol,tt=Z&&Z[X],et=c.TypeError,rt=c.QObject,nt=o("JSON","stringify"),ct=D.f,ot=I.f,at=z.f,it=_.f,ut=u([].push),st=$("symbols"),ft=$("op-symbols"),bt=$("string-to-symbol-registry"),lt=$("symbol-to-string-registry"),dt=$("wks"),ht=!rt||!rt[X]||!rt[X].findChild,Ot=f&&l((function(){return 7!=P(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=ct(Y,e);n&&delete Y[e],ot(t,e,r),n&&t!==Y&&ot(Y,e,n)}:ot,pt=function(t,e){var r=st[t]=P(tt);return G(r,{type:W,tag:t,description:e}),f||(r.description=e),r},jt=function(t,e,r){t===Y&&jt(ft,e,r),y(t);var n=w(e);return y(r),d(st,n)?(r.enumerable?(d(t,V)&&t[V][n]&&(t[V][n]=!1),r=P(r,{enumerable:k(0,!1)})):(d(t,V)||ot(t,V,k(1,{})),t[V][n]=!0),Ot(t,n,r)):ot(t,n,r)},gt=function(t,e){y(t);var r=v(e),n=S(r).concat(xt(r));return Q(n,(function(e){f&&!i(mt,r,e)||jt(t,e,r[e])})),t},yt=function(t,e){return void 0===e?P(t):gt(P(t),e)},mt=function(t){var e=w(t),r=i(it,this,e);return!(this===Y&&d(st,e)&&!d(ft,e))&&(!(r||!d(this,e)||!d(st,e)||d(this,V)&&this[V][e])||r)},vt=function(t,e){var r=v(t),n=w(e);if(r!==Y||!d(st,n)||d(ft,n)){var c=ct(r,n);return!c||!d(st,n)||d(r,V)&&r[V][n]||(c.enumerable=!0),c}},wt=function(t){var e=at(v(t)),r=[];return Q(e,(function(t){d(st,t)||d(C,t)||ut(r,t)})),r},xt=function(t){var e=t===Y,r=at(e?ft:v(t)),n=[];return Q(r,(function(t){!d(st,t)||e&&!d(Y,t)||ut(n,st[t])})),n};if(b||(Z=function(){if(j(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,e=F(t),r=function(t){this===Y&&i(r,ft,t),d(this,V)&&d(this[V],e)&&(this[V][e]=!1),Ot(this,e,k(1,t))};return f&&ht&&Ot(Y,e,{configurable:!0,set:r}),pt(e,t)},tt=Z[X],N(tt,"toString",(function(){return K(this).tag})),N(Z,"withoutSetter",(function(t){return pt(F(t),t)})),_.f=mt,I.f=jt,R.f=gt,D.f=vt,E.f=z.f=wt,M.f=xt,T.f=function(t){return pt(L(t),t)},f&&(ot(tt,"description",{configurable:!0,get:function(){return K(this).description}}),s||N(Y,"propertyIsEnumerable",mt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!b,sham:!b},{Symbol:Z}),Q(S(dt),(function(t){H(t)})),n({target:W,stat:!0,forced:!b},{for:function(t){var e=x(t);if(d(bt,e))return bt[e];var r=Z(e);return bt[e]=r,lt[r]=e,r},keyFor:function(t){if(!g(t))throw et(t+" is not a symbol");if(d(lt,t))return lt[t]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),n({target:"Object",stat:!0,forced:!b,sham:!f},{create:yt,defineProperty:jt,defineProperties:gt,getOwnPropertyDescriptor:vt}),n({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:wt,getOwnPropertySymbols:xt}),n({target:"Object",stat:!0,forced:l((function(){M.f(1)}))},{getOwnPropertySymbols:function(t){return M.f(m(t))}}),nt){var kt=!b||l((function(){var t=Z();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}));n({target:"JSON",stat:!0,forced:kt},{stringify:function(t,e,r){var n=J(arguments),c=e;if((p(e)||void 0!==t)&&!g(t))return h(e)||(e=function(t,e){if(O(c)&&(e=i(c,this,t,e)),!g(e))return e}),n[1]=e,a(nt,null,n)}})}if(!tt[B]){var Pt=tt.valueOf;N(tt,B,(function(t){return i(Pt,this)}))}U(Z,W),C[V]=!0},b0c0:function(t,e,r){var n=r("83ab"),c=r("5e77").EXISTS,o=r("e330"),a=r("9bf2").f,i=Function.prototype,u=o(i.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,f=o(s.exec),b="name";n&&!c&&a(i,b,{configurable:!0,get:function(){try{return f(s,u(this))[1]}catch(t){return""}}})},b64b:function(t,e,r){var n=r("23e7"),c=r("7b0b"),o=r("df75"),a=r("d039"),i=a((function(){o(1)}));n({target:"Object",stat:!0,forced:i},{keys:function(t){return o(c(t))}})},b727:function(t,e,r){var n=r("0366"),c=r("e330"),o=r("44ad"),a=r("7b0b"),i=r("07fa"),u=r("65f0"),s=c([].push),f=function(t){var e=1==t,r=2==t,c=3==t,f=4==t,b=6==t,l=7==t,d=5==t||b;return function(h,O,p,j){for(var g,y,m=a(h),v=o(m),w=n(O,p),x=i(v),k=0,P=j||u,S=e?P(h,x):r||l?P(h,0):void 0;x>k;k++)if((d||k in v)&&(g=v[k],y=w(g,k,m),t))if(e)S[k]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:s(S,g)}else switch(t){case 4:return!1;case 7:s(S,g)}return b?-1:c||f?f:S}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},ba2f:function(t,e,r){"use strict";r.r(e);r("b680"),r("b0c0");var n=r("7a23"),c={class:"container py-5 px-3 px-md-4"},o=Object(n["h"])("header",null,[Object(n["h"])("div",{class:"d-flex align-items-center"},[Object(n["h"])("i",{class:"bi bi-cart-plus-fill text-warning me-3 fs-2"}),Object(n["h"])("h2",{class:"h1 mb-0 text-primary"},"Checkout")])],-1),a={class:"row justify-content-center"},i={class:"table align-middle"},u=Object(n["h"])("thead",null,[Object(n["h"])("th",{class:"px-2"},"Products"),Object(n["h"])("th",{class:"px-2"},"Duration"),Object(n["h"])("th",{class:"text-end px-2"},"Amount")],-1),s={class:"px-2"},f={key:0},b={key:1,class:"badge bg-primary fst-italic text-warning rounded-pill"},l={class:"px-2"},d={class:"text-end px-2"},h={colspan:"3",class:"text-end text-danger px-2"},O={class:"table"},p=Object(n["h"])("th",null,"Email",-1),j=Object(n["h"])("th",null,"Name",-1),g=Object(n["h"])("th",null,"Phone",-1),y=Object(n["h"])("th",null,"Address",-1),m=Object(n["h"])("th",null,"Payment",-1),v={key:0,class:"text-danger"},w={key:1,class:"text-success"},x={key:0},k=Object(n["h"])("th",null,"Order date",-1),P={class:"text-success"},S={class:"text-end"},E={key:0,class:"btn btn-warning",type:"submit"},z=Object(n["j"])("Continue shopping"),M=Object(n["h"])("i",{class:"bi bi-arrow-right ms-2"},null,-1);function D(t,e,r,D,I,R){var _=Object(n["J"])("Loading"),J=Object(n["J"])("router-link");return Object(n["z"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(_,{active:I.isLoading},null,8,["active"]),Object(n["h"])("div",c,[o,Object(n["h"])("main",a,[Object(n["h"])("form",{class:"col-lg-9 col-xl-6",onSubmit:e[0]||(e[0]=function(){return R.payOrder&&R.payOrder.apply(R,arguments)})},[Object(n["h"])("table",i,[u,Object(n["h"])("tbody",null,[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(I.order.products,(function(t){return Object(n["z"])(),Object(n["g"])("tr",{key:t.id},[Object(n["h"])("td",s,[t.product.imageUrl?(Object(n["z"])(),Object(n["g"])("span",f,Object(n["M"])(t.product.title),1)):(Object(n["z"])(),Object(n["g"])("span",b,"Subscription"))]),Object(n["h"])("td",l,Object(n["M"])(t.qty)+" / "+Object(n["M"])(t.product.unit),1),Object(n["h"])("td",d,"$"+Object(n["M"])(t.final_total.toFixed(2)),1)])})),128))]),Object(n["h"])("tfoot",null,[Object(n["h"])("tr",null,[Object(n["h"])("td",h," Total: $"+Object(n["M"])(R.totalAmount.toFixed(2)||0),1)])])]),Object(n["h"])("table",O,[Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[p,Object(n["h"])("td",null,Object(n["M"])(I.user.email),1)]),Object(n["h"])("tr",null,[j,Object(n["h"])("td",null,Object(n["M"])(I.user.name),1)]),Object(n["h"])("tr",null,[g,Object(n["h"])("td",null,Object(n["M"])(I.user.tel),1)]),Object(n["h"])("tr",null,[y,Object(n["h"])("td",null,Object(n["M"])(I.user.address),1)]),Object(n["h"])("tr",null,[m,Object(n["h"])("td",null,[I.order.is_paid?(Object(n["z"])(),Object(n["g"])("span",w,"Confirmed")):(Object(n["z"])(),Object(n["g"])("span",v,"Unconfirmed"))])]),I.order.is_paid?(Object(n["z"])(),Object(n["g"])("tr",x,[k,Object(n["h"])("td",null,[Object(n["h"])("span",P,Object(n["M"])(t.$filters.date(I.order.paid_date)),1)])])):Object(n["f"])("",!0)])]),Object(n["h"])("div",S,[I.order.is_paid?(Object(n["z"])(),Object(n["e"])(J,{key:1,class:"btn btn-primary",to:{name:"Home"}},{default:Object(n["V"])((function(){return[z,M]})),_:1})):(Object(n["z"])(),Object(n["g"])("button",E," Checkout "))])],32)])])],64)}var I=r("1da1"),R=r("5530"),_=(r("96cf"),r("b64b"),r("d3b7"),r("99af"),{data:function(){return{orderId:"",order:{},user:{},isLoading:!1}},computed:{totalAmount:function(){for(var t=[],e=0,r=Object.keys(Object(R["a"])({},this.order.products));e<r.length;e++){var n=r[e];t.push(this.order.products[n].final_total)}var c=t.reduce((function(t,e){return t+e}),0);return c}},methods:{payOrder:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/pay/").concat(t.orderId),e.next=3,t.$http.post(r).catch((function(t){return console.log(t)}));case 3:n=e.sent,t.getOrder(),console.log("payOrder",n);case 6:case"end":return e.stop()}}),e)})))()},getOrder:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.scrollTo(0,-1e3),t.isLoading=!0,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/order/").concat(t.orderId),e.next=5,t.$http.get(r).catch((function(t){return console.log(t)}));case 5:n=e.sent,t.order=n.data.order,t.user=n.data.order.user,t.isLoading=!1,console.log("getOrder",n),console.log("this.order",t.order),console.log("this.user",t.user);case 12:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.orderId=t.$route.params.orderID,e.next=3,t.getOrder();case 3:case"end":return e.stop()}}),e)})))()}}),J=r("6b0d"),N=r.n(J);const $=N()(_,[["render",D]]);e["default"]=$},dbb4:function(t,e,r){var n=r("23e7"),c=r("83ab"),o=r("56ef"),a=r("fc6a"),i=r("06cf"),u=r("8418");n({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(t){var e,r,n=a(t),c=i.f,s=o(n),f={},b=0;while(s.length>b)r=c(n,e=s[b++]),void 0!==r&&u(f,e,r);return f}})},e439:function(t,e,r){var n=r("23e7"),c=r("d039"),o=r("fc6a"),a=r("06cf").f,i=r("83ab"),u=c((function(){a(1)})),s=!i||u;n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e538:function(t,e,r){var n=r("b622");e.f=n}}]);
//# sourceMappingURL=chunk-27f912c3.d14dc314.js.map