(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14c0b1ac"],{"06e3":function(t,e,r){"use strict";r.r(e);r("ac1f"),r("1276"),r("b0c0"),r("b680"),r("07ac");var s=r("7a23"),n=function(t){return Object(s["C"])("data-v-44e7edc8"),t=t(),Object(s["A"])(),t},a={class:"bg-primary"},i={class:"container py-5 px-5 px-xl-0"},c={class:"text-white d-none"},o={class:"row"},u={class:"col-8"},l={class:"h1 text-white mb-3"},d={class:"h6 text-white"},b={class:"fs-6 me-2"},h=Object(s["j"])(" | "),f={class:"fs-6 ms-2"},p={class:"col-4 d-flex align-items-end"},g={class:"ms-auto"},m=n((function(){return Object(s["h"])("h4",{class:"h6 text-white text-end"},"popularity",-1)})),j={class:"d-block text-end"},O=n((function(){return Object(s["h"])("i",{class:"fs-4 bi bi-star-fill text-warning me-2"},null,-1)})),v={class:"fs-3"},y={class:"ms-4"},x=n((function(){return Object(s["h"])("h4",{class:"h6 text-white text-end"},"Vote Average",-1)})),w={class:"d-block text-end"},k=n((function(){return Object(s["h"])("i",{class:"fs-4 bi bi-people-fill text-info me-2"},null,-1)})),I={class:"fs-3"},T={class:"text-white"},P={class:"row flex-column flex-sm-row gap-4 gap-md-5 gap-xl-0"},_={class:"col-xl-9"},M={class:"row flex-column flex-sm-row gap-4 gap-md-0"},D={class:"col-8 col-sm-5 col-md-6 col-xl-5 mx-auto"},S={class:"position-relative poster-box-shadow rounded-3 h-100 w-100",style:{}},R=["src","alt"],C=n((function(){return Object(s["h"])("div",{class:"position-absolute top-0 bottom-0 w-100 rounded-3",style:{background:"rgba(255, 255, 255, 0.1)"}},null,-1)})),A={class:"col-12 col-md-6 col-xl-7 d-flex flex-column mt-2 mt-md-0"},E={class:"d-flex align-items-start justify-content-between mb-2"},F={class:"display-5 text-white mb-0"},N={key:0,class:"bi bi-bookmark-plus fs-3"},z={key:1,class:"bi bi-bookmark-check-fill fs-3"},U={class:"h6 text-white mb-1"},L=Object(s["j"])(" Original title: "),X={class:"fw-normal"},$={class:"text-muted"},H={class:"fs-6 me-2"},V=Object(s["j"])(" | "),B={class:"fs-6 ms-2"},W={class:"overview mt-3 fs-5"},q={class:"d-flex pb-3"},G={class:"col-12 col-xl-6"},Y=["disabled"],J={key:0,class:"spinner-border spinner-grow-sm"},Q={key:1,class:"bi bi-arrow-right-circle me-2"},K=Object(s["j"])(" RENT $0.99 "),Z={class:"col-12 col-xl-6 mb-3 mb-xl-0"},tt=["disabled"],et={key:0,class:"spinner-border spinner-grow-sm"},rt={key:1,class:"bi bi-hand-index-thumb me-2"},st=Object(s["j"])(" SUBSCRIBE $9.99 "),nt=n((function(){return Object(s["h"])("i",{class:"bi bi-cart-check me-2"},null,-1)})),at=n((function(){return Object(s["h"])("span",{class:"text-light"},"SUBSCRIBED !",-1)})),it={key:1,class:"mt-auto"},ct=n((function(){return Object(s["h"])("button",{class:"btn btn-primary border text-warning fst-italic w-100 disabled rounded-3"}," Upcoming ",-1)})),ot=[ct],ut={class:"col-xl-3"},lt={class:"d-flex flex-column aside-background h-100 p-3 rounded-3"},dt={class:"mb-3 d-flex flex-column gap-3"},bt={class:"d-flex align-items-center justify-content-between"},ht=n((function(){return Object(s["h"])("h4",{class:"h6 text-white text-end mb-0"},"popularity",-1)})),ft={class:"text-end"},pt=n((function(){return Object(s["h"])("i",{class:"bi bi-trophy-fill text-danger me-2"},null,-1)})),gt={class:"d-flex align-items-center justify-content-between"},mt=n((function(){return Object(s["h"])("h4",{class:"h6 text-white text-end mb-0"},"Vote Average",-1)})),jt={class:"text-end"},Ot=n((function(){return Object(s["h"])("i",{class:"bi bi-people-fill text-info me-2"},null,-1)})),vt={class:"d-flex align-items-center justify-content-between d-lg-none"},yt=n((function(){return Object(s["h"])("h4",{class:"h6 text-white mb-0"},"Rating",-1)})),xt=n((function(){return Object(s["h"])("i",{class:"bi bi-dash-circle-fill text-muted fs-6"},null,-1)})),wt=[xt],kt={key:1,class:"bi bi-star-fill text-warning me-2"},It=n((function(){return Object(s["h"])("option",{selected:""},"Rate",-1)})),Tt=["value"],Pt={key:3},_t={class:"d-none d-lg-flex align-items-lg-center justify-content-lg-between"},Mt=n((function(){return Object(s["h"])("div",null,[Object(s["h"])("h4",{class:"h6 text-white mb-0"},"Rating")],-1)})),Dt={class:"position-relative d-flex align-items-center",style:{"min-height":"25px"}},St={class:"position-absolute end-0 d-flex align-items-center"},Rt=n((function(){return Object(s["h"])("i",{class:"bi bi-dash-circle-fill text-muted fs-6"},null,-1)})),Ct=[Rt],At={key:0},Et={class:"d-flex flex-column justify-content-between flex-grow-1 list-unstyled more-video-list mb-0 gap-3 gap-xl-0"},Ft=["onClick"],Nt=n((function(){return Object(s["h"])("i",{class:"bi bi-chevron-compact-right"},null,-1)})),zt={class:"row mt-5"},Ut=n((function(){return Object(s["h"])("div",{class:"col-12"},[Object(s["h"])("h2",{class:"h1 text-white d-flex align-items-center"},[Object(s["h"])("i",{class:"bi bi-camera-reels text-warning me-3 fs-4 d-none d-md-block"}),Object(s["j"])("Watch Trailer ")])],-1)})),Lt={class:"col-xl-9"},Xt={class:"video-wrapper"},$t=["src"];function Ht(t,e,r,n,ct,xt){var Rt=Object(s["J"])("Loading"),Ht=Object(s["J"])("router-link");return Object(s["z"])(),Object(s["g"])(s["a"],null,[Object(s["k"])(Rt,{active:ct.isLoading},null,8,["active"]),Object(s["h"])("div",a,[Object(s["h"])("div",i,[Object(s["h"])("header",c,[Object(s["h"])("section",o,[Object(s["h"])("div",u,[Object(s["h"])("h2",l,Object(s["M"])(ct.title),1),Object(s["h"])("h3",d,"Original title: "+Object(s["M"])(ct.originalTitle),1),Object(s["h"])("span",b,Object(s["M"])(ct.releaseDate.split("-")[0]),1),h,Object(s["h"])("span",f,Object(s["M"])(ct.runTime.hour)+"h "+Object(s["M"])(ct.runTime.minute)+"m",1)]),Object(s["h"])("div",p,[Object(s["h"])("div",g,[m,Object(s["h"])("div",j,[O,Object(s["h"])("span",v,Object(s["M"])(ct.popularity),1)])]),Object(s["h"])("div",y,[x,Object(s["h"])("div",w,[k,Object(s["h"])("span",I,Object(s["M"])(ct.voteAverage),1)])])])])]),Object(s["h"])("main",T,[Object(s["h"])("div",P,[Object(s["h"])("section",_,[Object(s["h"])("div",M,[Object(s["h"])("div",D,[Object(s["h"])("div",S,[ct.posterUrl?(Object(s["z"])(),Object(s["g"])("img",{key:0,class:"img-fluid rounded-3 h-100 w-100",style:{"object-fit":"cover"},src:ct.baseImageUrl+ct.posterUrl,alt:ct.title},null,8,R)):Object(s["f"])("",!0),C])]),Object(s["h"])("section",A,[Object(s["h"])("div",E,[Object(s["h"])("h2",F,Object(s["M"])(ct.title),1),Object(s["h"])("a",{href:"#",class:"text-white",onClick:e[0]||(e[0]=Object(s["X"])((function(){return xt.addProductToList&&xt.addProductToList.apply(xt,arguments)}),["prevent"]))},[ct.status.isProductInList?(Object(s["z"])(),Object(s["g"])("i",z)):(Object(s["z"])(),Object(s["g"])("i",N))])]),Object(s["h"])("h3",U,[L,Object(s["h"])("span",X,Object(s["M"])(ct.originalTitle),1)]),Object(s["h"])("div",$,[Object(s["h"])("span",H,Object(s["M"])(ct.releaseDate.split("-")[0]),1),V,Object(s["h"])("span",B,Object(s["M"])(ct.runTime.hour)+"H "+Object(s["M"])(ct.runTime.minute)+"M",1)]),Object(s["h"])("p",W,Object(s["M"])(ct.overview),1),Object(s["h"])("div",q,[(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["H"])(ct.genres,(function(t){return Object(s["z"])(),Object(s["g"])("span",{class:"badge rounded-pill border-secondary me-2",key:t},Object(s["M"])(t.name),1)})),128))]),"nowplaying"===ct.isNowOrUpcoming?(Object(s["z"])(),Object(s["g"])("div",{key:0,class:Object(s["s"])(["row justify-content-between mt-auto flex-column-reverse flex-xl-row",{"mt-auto":"upcoming"===ct.isNowOrUpcoming}]),role:"group"},[Object(s["h"])("div",G,[Object(s["h"])("button",{type:"button",class:Object(s["s"])(["btn text-center rounded-3 w-100",{"btn-outline-secondary text-muted ":!ct.status.isSubscriptionInCart,"btn-outline-light text-light ":ct.status.isSubscriptionInCart}]),disabled:ct.status.loadingProductID===r.productID,onClick:e[1]||(e[1]=function(t){return xt.addProductToCart(ct.idPassIn)})},[ct.status.loadingProductID===r.productID?(Object(s["z"])(),Object(s["g"])("span",J)):Object(s["f"])("",!0),ct.status.loadingProductID!==r.productID?(Object(s["z"])(),Object(s["g"])("i",Q)):Object(s["f"])("",!0),K],10,Y)]),Object(s["h"])("div",Z,[ct.status.isSubscriptionInCart?(Object(s["z"])(),Object(s["e"])(Ht,{key:1,to:{name:"Cart"},class:"w-100 btn btn-warning mt-auto border border-warning border-2 rounded-3"},{default:Object(s["V"])((function(){return[nt,at]})),_:1})):(Object(s["z"])(),Object(s["g"])("button",{key:0,type:"button",class:"btn btn-warning text-center border border-warning text-primary rounded-3 w-100",disabled:ct.status.loadingProductID===xt.subscriptionID,onClick:e[2]||(e[2]=function(t){return xt.addProductToCart(xt.subscriptionID)})},[ct.status.loadingProductID===xt.subscriptionID?(Object(s["z"])(),Object(s["g"])("span",et)):Object(s["f"])("",!0),ct.status.loadingProductID!==xt.subscriptionID?(Object(s["z"])(),Object(s["g"])("i",rt)):Object(s["f"])("",!0),st],8,tt))])],2)):(Object(s["z"])(),Object(s["g"])("div",it,ot))])])]),Object(s["h"])("section",ut,[Object(s["h"])("aside",lt,[Object(s["h"])("div",dt,[Object(s["h"])("section",bt,[ht,Object(s["h"])("div",ft,[pt,Object(s["h"])("span",null,Object(s["M"])(parseFloat(ct.popularity).toFixed(0)),1)])]),Object(s["h"])("section",gt,[mt,Object(s["h"])("div",jt,[Ot,Object(s["h"])("span",null,Object(s["M"])(ct.voteAverage),1)])]),Object(s["h"])("section",vt,[yt,Object(s["h"])("div",null,[ct.status.rating?(Object(s["z"])(),Object(s["g"])("a",{key:0,href:"#",class:"px-2 me-1",onClick:e[3]||(e[3]=Object(s["X"])((function(){return xt.deleteRating&&xt.deleteRating.apply(xt,arguments)}),["prevent"]))},wt)):Object(s["f"])("",!0),ct.status.rating?(Object(s["z"])(),Object(s["g"])("i",kt)):(Object(s["z"])(),Object(s["g"])("select",{key:2,class:"form-select form-select-sm py-1 rounded-3","aria-label":"form-select-sm example",onChange:e[4]||(e[4]=function(t){return xt.ratingOnMobile(t)})},[It,(Object(s["z"])(),Object(s["g"])(s["a"],null,Object(s["H"])(10,(function(t){return Object(s["h"])("option",{value:t,key:t},Object(s["M"])(t),9,Tt)})),64))],32)),ct.status.rating?(Object(s["z"])(),Object(s["g"])("span",Pt,Object(s["M"])(ct.result),1)):Object(s["f"])("",!0)])]),Object(s["h"])("section",_t,[Mt,Object(s["h"])("div",Dt,[Object(s["h"])("div",St,[ct.status.rating?(Object(s["z"])(),Object(s["g"])("a",{key:0,href:"#",class:"px-2 me-1",onClick:e[5]||(e[5]=Object(s["X"])((function(){return xt.deleteRating&&xt.deleteRating.apply(xt,arguments)}),["prevent"]))},Ct)):Object(s["f"])("",!0),Object(s["h"])("a",{href:"#",class:Object(s["s"])(["d-flex justify-content-end align-items-center",{"me-4":ct.result}]),onMousemove:e[6]||(e[6]=Object(s["X"])((function(t){return xt.hoverRating(t)}),["prevent"])),onMouseenter:e[7]||(e[7]=Object(s["X"])((function(){return xt.offsetWidthCount&&xt.offsetWidthCount.apply(xt,arguments)}),["prevent"])),onClick:e[8]||(e[8]=Object(s["X"])((function(){return xt.rating&&xt.rating.apply(xt,arguments)}),["prevent"])),ref:"ratingContainer"},[(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["H"])(ct.starsArray,(function(t){return Object(s["z"])(),Object(s["g"])("i",{style:{"z-index":"-1"},key:t.id,class:Object(s["s"])(["bi text-warning",{"bi-star":t.star,"bi-star-half":t.starHalf,"bi-star-fill":t.starFill}])},null,2)})),128))],34)]),ct.result?(Object(s["z"])(),Object(s["g"])("div",At,Object(s["M"])(2*ct.result),1)):Object(s["f"])("",!0)])])]),Object(s["h"])("ul",Et,[(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["H"])(Object.values(ct.videoType),(function(t){return Object(s["z"])(),Object(s["g"])("li",{class:"rounded-3 bg-dark",key:t},[Object(s["h"])("a",{href:"#",class:Object(s["s"])(["btn d-flex justify-content-between text-white w-100 px-3 py-3 py-xl-2 text-decoration-none fs-6",{disabled:!t.content.length}]),onClick:Object(s["X"])((function(e){return xt.moreVideos(t.type)}),["prevent"])},[Object(s["h"])("div",null,[Object(s["j"])(Object(s["M"])(t.type)+" ",1),Object(s["h"])("span",null," ("+Object(s["M"])(t.content.length)+") ",1)]),Nt],10,Ft)])})),128))])])])]),Object(s["h"])("div",zt,[Ut,Object(s["h"])("section",Lt,[Object(s["h"])("div",Xt,[ct.trailers.length?(Object(s["z"])(),Object(s["g"])("iframe",{key:0,class:"test",type:"text/html",allowfullscreen:"",width:"100%",height:"100%",src:ct.baseYoutubeUrl+ct.trailers[0].key||ct.baseYoutubeUrl+t.teaser[0].key},"\n              ",8,$t)):Object(s["f"])("",!0)])])])])])])],64)}var Vt=r("1da1"),Bt=(r("96cf"),r("a9e3"),r("99af"),r("d3b7"),r("159b"),r("4de4"),r("caad"),r("2532"),{props:{productID:{type:String}},inject:["emitter","pushMessageStateForUser"],data:function(){return{key:"7bbe6005cfda593dc21cceb93eaf9a8e",sessionID:"d13bca7b7450c217c5af3127e3a0a984db98ccb2",account_id:"qqqq5953",list_id:"8191517",baseImageUrl:"https://image.tmdb.org/t/p/w300",baseYoutubeUrl:"https://www.youtube.com/embed/",listStatus:"",listStatusMessage:"",isLoading:!1,title:"",originalTitle:"",imdbID:"",runTime:{hour:"",minute:""},trailers:[],teasers:[],seasons:[],createdBy:[],idPassIn:"",releaseDate:"",popularity:"",voteAverage:"",posterUrl:"",genres:[],overview:"",id:"",genre:"",isNowOrUpcoming:"",price:"",language:"en-US",videoType:{behindTheScenes:{type:"Behind the Scenes",content:[]},clips:{type:"Clips",content:[]},teasers:{type:"Teasers",content:[]},trailers:{type:"Trailers",content:[]},featurettes:{type:"Featurettes",content:[]},others:{type:"Others",content:[]}},status:{loadingProductID:"",watchlistProductID:"",isProductInList:"",isSubscriptionInCart:!1,rating:""},starsArray:[{star:!0,starHalf:!1,starFill:!1,id:"1"},{star:!0,starHalf:!1,starFill:!1,id:"2"},{star:!0,starHalf:!1,starFill:!1,id:"3"},{star:!0,starHalf:!1,starFill:!1,id:"4"},{star:!0,starHalf:!1,starFill:!1,id:"5"}],offsetX:"",ratingContainerWidth:"",ratio:0,result:""}},computed:{queriesChange:function(){return this.$route.params.productID},subscriptionID:function(){return"-MvtGpQQ9ctVDEyXHcX0"}},watch:{queriesChange:function(t){"Product"===this.$route.name&&(this.idPassIn=t,this.getProductDetails())}},methods:{ratingOnMobile:function(t){this.result=Number(t.target.value),this.rating()},rating:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.screen.width>=992&&(t.$refs.ratingContainer.style.pointerEvents="none"),r="https://api.themoviedb.org/3/movie/".concat(t.id,"/rating?api_key=").concat(t.key,"&session_id=").concat(t.sessionID),s={value:t.result},e.next=5,t.$http.post(r,s).catch((function(t){console.log(t)}));case 5:n=e.sent,t.pushMessageStateForUser(n.data.status_message,t.title,"rating"),t.status.rating=n.data.success;case 8:case"end":return e.stop()}}),e)})))()},deleteRating:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r,s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.screen.width>=992&&(t.$refs.ratingContainer.style.pointerEvents="auto"),r="https://api.themoviedb.org/3/movie/".concat(t.id,"/rating?api_key=").concat(t.key,"&session_id=").concat(t.sessionID),s={value:t.result},e.next=5,t.$http.delete(r,s).catch((function(t){console.log(t)}));case 5:for(n=e.sent,t.status.rating=!n.data.success,t.result=0,a=0;a<t.starsArray.length;a++)t.starsArray[a].star=!0,t.starsArray[a].starHalf=!1,t.starsArray[a].starFill=!1;t.pushMessageStateForUser(n.data.status_message,t.title,"delete rating");case 10:case"end":return e.stop()}}),e)})))()},offsetWidthCount:function(){this.ratingContainerWidth=this.$refs.ratingContainer.offsetWidth},halfStar:function(t){t>0&&t<=.1&&(this.result=.5),t>.2&&t<=.3&&(this.result=1.5),t>.4&&t<=.5&&(this.result=2.5),t>.6&&t<=.7&&(this.result=3.5),t>.8&&t<=.9&&(this.result=4.5),5!==Math.floor(this.result)&&(this.starsArray[Math.floor(this.result)].star=!1,this.starsArray[Math.floor(this.result)].starHalf=!0,this.starsArray[Math.floor(this.result)].starFill=!1)},fullStar:function(t){t<=0&&(this.result=0),t>.1&&t<=.2&&(this.result=1),t>.3&&t<=.4&&(this.result=2),t>.5&&t<=.6&&(this.result=3),t>.7&&t<=.8&&(this.result=4),t>.9&&t<=1&&(this.result=5)},hoverRating:function(t){this.offsetX=t.offsetX,this.ratio=this.offsetX/this.ratingContainerWidth,this.halfStar(this.ratio),this.fullStar(this.ratio);for(var e=0;e<Math.floor(this.result);e++)this.starsArray[e].star=!1,this.starsArray[e].starHalf=!1,this.starsArray[e].starFill=!0;for(var r=Math.ceil(this.result);r<this.starsArray.length;r++)this.starsArray[r].star=!0,this.starsArray[r].starHalf=!1,this.starsArray[r].starFill=!1},moreVideos:function(t){this.$router.push({name:"ProductVideos",params:{movieID:this.id,movieTitle:this.title,videoType:t}})},arrangeVideoType:function(t){var e=this;Object.values(this.videoType).forEach((function(t){t.content.length=0})),t.forEach((function(t){"Clip"===t.type?e.videoType.clips.content.push(t):"Teaser"===t.type?e.videoType.teasers.content.push(t):"Trailer"===t.type?e.videoType.trailers.content.push(t):"Featurette"===t.type?e.videoType.featurettes.content.push(t):"Behind the Scenes"===t.type?e.videoType.behindTheScenes.content.push(t):e.videoType.others.content.push(t)}))},getProductDetails:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/product/").concat(t.idPassIn),e.next=4,t.$http.get(r).catch((function(t){return console.log(t)}));case 4:return s=e.sent,console.log("getProductDetails",s),t.id=s.data.product.content.split("|")[0],t.price=s.data.product.price,t.genre=s.data.product.category.split("|")[0],t.isNowOrUpcoming=s.data.product.category.split("|")[1],e.next=12,t.getData();case 12:t.isLoading=!1;case 13:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("https://api.themoviedb.org/3/".concat(t.genre,"/").concat(t.id,"?api_key=").concat(t.key,"&language=").concat(t.language,"&append_to_response=videos,images"));case 2:r=e.sent,"movie"===t.genre&&t.getMovieDetail(r),"tv"===t.genre&&t.getTVDetail(r),t.posterUrl=r.data.poster_path,t.genres=r.data.genres,t.overview=r.data.overview,t.popularity=r.data.popularity,t.voteAverage=r.data.vote_average,t.arrangeVideoType(r.data.videos.results),t.trailers=r.data.videos.results.filter((function(t){return"Trailer"===t.type})),t.teasers=r.data.videos.results.filter((function(t){return"Teaser"===t.type}));case 13:case"end":return e.stop()}}),e)})))()},getMovieDetail:function(t){this.title=t.data.title,this.originalTitle=t.data.original_title,this.releaseDate=t.data.release_date,this.runTime.hour=Math.floor(t.data.runtime/60),this.runTime.minute=t.data.runtime%60},getTVDetail:function(t){this.title=t.data.name,this.originalTitle=t.data.original_name,this.releaseDate=t.data.first_air_date,this.seasons=t.data.seasons,this.createdBy=t.data.created_by,this.runTime.hour=Math.floor(t.data.episode_run_time/60),this.runTime.minute=t.data.episode_run_time%60},checkProductStatus:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/list/".concat(t.list_id,"/item_status?api_key=").concat(t.key,"&movie_id=").concat(t.id),e.next=3,t.$http.get(r).catch((function(t){console.log(t)}));case 3:s=e.sent,t.status.isProductInList=s.data.item_present;case 5:case"end":return e.stop()}}),e)})))()},removeProductFromList:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.status.watchlistProductID=t.idPassIn,r="https://api.themoviedb.org/3/list/".concat(t.list_id,"/remove_item?api_key=").concat(t.key,"&session_id=").concat(t.sessionID),s={media_id:t.id},e.next=5,t.$http.post(r,s).catch((function(t){console.log(t)}));case 5:n=e.sent,console.log("removeProductFromList",n),t.status.isProductInList=!n.data.success,t.listStatusMessage=n.data.status_message,t.pushMessageStateForUser(t.listStatusMessage,t.title,"remove from watchlist"),t.status.watchlistProductID="";case 11:case"end":return e.stop()}}),e)})))()},addProductToList:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.status.watchlistProductID=t.idPassIn,e.next=3,t.checkProductStatus();case 3:if(!t.status.isProductInList){e.next=7;break}return e.next=6,t.removeProductFromList();case 6:return e.abrupt("return");case 7:return r="https://api.themoviedb.org/3/list/".concat(t.list_id,"/add_item?api_key=").concat(t.key,"&session_id=").concat(t.sessionID),s={media_id:t.id},e.next=11,t.$http.post(r,s).catch((function(t){console.log(t)}));case 11:n=e.sent,console.log("addProductToList",n),t.status.isProductInList=n.data.success,t.listStatusMessage=n.data.status_message,t.pushMessageStateForUser(t.listStatusMessage,t.title,"add to watchlist"),t.status.watchlistProductID="";case 17:case"end":return e.stop()}}),e)})))()},addProductToCart:function(t){var e=this;return Object(Vt["a"])(regeneratorRuntime.mark((function r(){var s,n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.status.loadingProductID=t,s="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/cart"),n={data:{product_id:t,qty:1}},r.next=5,e.$http.post(s,n).catch((function(t){console.log(t)}));case 5:return a=r.sent,console.log("addProductToCart",a.data),r.next=9,e.getCartProductNumber();case 9:if(i=r.sent,e.emitter.emit("calculate-product-number",i),t!==e.subscriptionID){r.next=14;break}return r.next=14,e.hasSubscription();case 14:e.status.loadingProductID="";case 15:case"end":return r.stop()}}),r)})))()},cartAPIResponse:function(){var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/cart");return this.$http.get(t)},getCartProductNumber:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.cartAPIResponse().catch((function(t){console.log(t)}));case 2:return r=e.sent,console.log("getCartProductNumber",r.data),e.abrupt("return",r.data.data.carts.length);case 5:case"end":return e.stop()}}),e)})))()},hasSubscription:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.cartAPIResponse().catch((function(t){console.log(t)}));case 2:r=e.sent,s=[],r.data.data.carts.forEach((function(t){s.push(t.product_id.includes("-MvtGpQQ9ctVDEyXHcX0"))})),t.status.isSubscriptionInCart=s.includes(!0);case 6:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(Vt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.scrollTo(0,-1e3),t.idPassIn=t.productID,e.next=4,t.getProductDetails();case 4:t.checkProductStatus(),t.hasSubscription();case 6:case"end":return e.stop()}}),e)})))()}}),Wt=(r("99ee"),r("6b0d")),qt=r.n(Wt);const Gt=qt()(Bt,[["render",Ht],["__scopeId","data-v-44e7edc8"]]);e["default"]=Gt},"07ac":function(t,e,r){var s=r("23e7"),n=r("6f53").values;s({target:"Object",stat:!0},{values:function(t){return n(t)}})},"159b":function(t,e,r){var s=r("da84"),n=r("fdbc"),a=r("785a"),i=r("17c2"),c=r("9112"),o=function(t){if(t&&t.forEach!==i)try{c(t,"forEach",i)}catch(e){t.forEach=i}};for(var u in n)n[u]&&o(s[u]&&s[u].prototype);o(a)},"17c2":function(t,e,r){"use strict";var s=r("b727").forEach,n=r("a640"),a=n("forEach");t.exports=a?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,r){"use strict";var s=r("23e7"),n=r("e330"),a=r("5a34"),i=r("1d80"),c=r("577e"),o=r("ab13"),u=n("".indexOf);s({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~u(c(i(this)),c(a(t)),arguments.length>1?arguments[1]:void 0)}})},"4de4":function(t,e,r){"use strict";var s=r("23e7"),n=r("b727").filter,a=r("1dde"),i=a("filter");s({target:"Array",proto:!0,forced:!i},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var s=r("e330"),n=r("1d80"),a=r("577e"),i=r("5899"),c=s("".replace),o="["+i+"]",u=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(t){return function(e){var r=a(n(e));return 1&t&&(r=c(r,u,"")),2&t&&(r=c(r,l,"")),r}};t.exports={start:d(1),end:d(2),trim:d(3)}},"5a34":function(t,e,r){var s=r("da84"),n=r("44e7"),a=s.TypeError;t.exports=function(t){if(n(t))throw a("The method doesn't accept regular expressions");return t}},"6f53":function(t,e,r){var s=r("83ab"),n=r("e330"),a=r("df75"),i=r("fc6a"),c=r("d1e7").f,o=n(c),u=n([].push),l=function(t){return function(e){var r,n=i(e),c=a(n),l=c.length,d=0,b=[];while(l>d)r=c[d++],s&&!o(n,r)||u(b,t?[r,n[r]]:n[r]);return b}};t.exports={entries:l(!0),values:l(!1)}},7156:function(t,e,r){var s=r("1626"),n=r("861d"),a=r("d2bb");t.exports=function(t,e,r){var i,c;return a&&s(i=e.constructor)&&i!==r&&n(c=i.prototype)&&c!==r.prototype&&a(t,c),t}},"99ee":function(t,e,r){"use strict";r("b646")},a9e3:function(t,e,r){"use strict";var s=r("83ab"),n=r("da84"),a=r("e330"),i=r("94ca"),c=r("6eeb"),o=r("1a2d"),u=r("7156"),l=r("3a9b"),d=r("d9b5"),b=r("c04e"),h=r("d039"),f=r("241c").f,p=r("06cf").f,g=r("9bf2").f,m=r("408a"),j=r("58a8").trim,O="Number",v=n[O],y=v.prototype,x=n.TypeError,w=a("".slice),k=a("".charCodeAt),I=function(t){var e=b(t,"number");return"bigint"==typeof e?e:T(e)},T=function(t){var e,r,s,n,a,i,c,o,u=b(t,"number");if(d(u))throw x("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=j(u),e=k(u,0),43===e||45===e){if(r=k(u,2),88===r||120===r)return NaN}else if(48===e){switch(k(u,1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+u}for(a=w(u,2),i=a.length,c=0;c<i;c++)if(o=k(a,c),o<48||o>n)return NaN;return parseInt(a,s)}return+u};if(i(O,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var P,_=function(t){var e=arguments.length<1?0:v(I(t)),r=this;return l(y,r)&&h((function(){m(r)}))?u(Object(e),r,_):e},M=s?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;M.length>D;D++)o(v,P=M[D])&&!o(_,P)&&g(_,P,p(v,P));_.prototype=y,y.constructor=_,c(n,O,_)}},ab13:function(t,e,r){var s=r("b622"),n=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(s){}}return!1}},b0c0:function(t,e,r){var s=r("83ab"),n=r("5e77").EXISTS,a=r("e330"),i=r("9bf2").f,c=Function.prototype,o=a(c.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(u.exec),d="name";s&&!n&&i(c,d,{configurable:!0,get:function(){try{return l(u,o(this))[1]}catch(t){return""}}})},b646:function(t,e,r){},b727:function(t,e,r){var s=r("0366"),n=r("e330"),a=r("44ad"),i=r("7b0b"),c=r("07fa"),o=r("65f0"),u=n([].push),l=function(t){var e=1==t,r=2==t,n=3==t,l=4==t,d=6==t,b=7==t,h=5==t||d;return function(f,p,g,m){for(var j,O,v=i(f),y=a(v),x=s(p,g),w=c(y),k=0,I=m||o,T=e?I(f,w):r||b?I(f,0):void 0;w>k;k++)if((h||k in y)&&(j=y[k],O=x(j,k,v),t))if(e)T[k]=O;else if(O)switch(t){case 3:return!0;case 5:return j;case 6:return k;case 2:u(T,j)}else switch(t){case 4:return!1;case 7:u(T,j)}return d?-1:n||l?l:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},caad:function(t,e,r){"use strict";var s=r("23e7"),n=r("4d64").includes,a=r("44d2");s({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")}}]);
//# sourceMappingURL=chunk-14c0b1ac.7213c416.js.map